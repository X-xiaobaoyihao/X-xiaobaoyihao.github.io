<center>
- ğŸ‘‹ Hi, Iâ€™m @X-xiaobaoyihao
- ...ğŸ‘€ ...ğŸŒ±  ...ğŸ’ï¸  ...
- ğŸ“« 320774407@qq.com
</center>









<center>
<h3>å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Š</h3>
</center>





#### 2021/4/22  æ˜ŸæœŸå›› å°é›¨
git
MySQL

#### 2021/4/26  æ˜ŸæœŸä¸€ æ™´
- InnoDBæ˜¯ä¸€ä¸ªå¯é çš„äº‹åŠ¡å¤„ç†å¼•æ“ï¼Œå®ƒä¸æ”¯æŒå…¨æ–‡æœ¬æœç´¢ï¼›
- MEMORYåœ¨åŠŸèƒ½ç­‰åŒäºMyISAMï¼Œå¤§æ‹¿ç”±äºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ï¼ˆä¸æ˜¯ç£ç›˜ï¼‰ä¸­ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼ˆç‰¹åˆ«é€‚åˆäºä¸´æ—¶è¡¨ï¼‰ï¼›
- MyISAMæ˜¯ä¸€ä¸ªæ€§èƒ½æé«˜çš„å¼•æ“ï¼Œå®ƒæ”¯æŒå…¨æ–‡æœ¬æœç´¢ï¼Œä½†ä¸æ”¯æŒäº‹åŠ¡å¤„ç†ã€‚

ISAM(abbr. ç´¢å¼•å¾ªç¯å­˜å–æ³• Index Sequential Access Mode)
äº‹åŠ¡å¤„ç†
> **å¤–é”®ä¸èƒ½è·¨å¼•æ“** æ··ç”¨å¼•æ“æœ‰ä¸€ä¸ªå¤§ç¼ºé™·ã€‚å¤–é”®ï¼ˆç”¨äºå¼ºåˆ¶å®æ–½å¼•ç”¨å®Œæ•´æ€§ï¼‰ä¸èƒ½è·¨å¼•æ“ï¼Œå³ä½¿ä½¿ç”¨ä¸€ä¸ªå¼•æ“çš„è¡¨ä¸èƒ½å¼•ç”¨å…·æœ‰ä½¿ç”¨ä¸åŒå¼•æ“çš„è¡¨çš„å¤–é”®ã€‚
>

##### åˆ›å»ºå­˜å‚¨è¿‡ç¨‹
```mysql
create procedure productpricing()
begin 
	select avg(prod_price) as priceaverage
	from products;
end;
```

##### å»ºç«‹æ™ºèƒ½å­˜å‚¨è¿‡ç¨‹
```sql
-- Nameï¼š
-- Parametersï¼š
--
--
create procedure ordertotal(
 in onumber int,
 in taxable boolean,
 out ototal decimal(8,2)
)
begin
	--
	declare total decimal(8,2);
	declare taxrate int default 6;
	--
	select sum(item_price*quantity)
	from orderitems
	where order_num = onumber
	into total;
	
	if taxable then
		select total+(tatal/100*taxrate) into total;
	end if;
		select total into ototal;
end;
```
# MySqlå¿…çŸ¥å¿…ä¼šå®Œç»“
# Javaç¼–ç¨‹æ€æƒ³
# æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº





#### 2021/4/27  æ˜ŸæœŸäºŒ  ä¸­é›¨
java+spring+mysql
ç ”ç©¶spring
ç ”ç©¶java
ç ”ç©¶mysql

# spring



ä¸ºäº†é™ä½Javaå¼€å‘çš„å¤æ‚æ€§ï¼ŒSpringé‡‡ç”¨äº†ä»¥ä¸‹4ç§å…³é”®ç­–ç•¥ï¼š
- åŸºäºPOKJOçš„è½»é‡çº§å’Œæœ€å°ä¾µå…¥ç¼–ç¨‹ï¼›
- é€šè¿‡ä¾èµ–æ³¨å…¥å’Œé¢å‘æ¥å£å®ç°æ¾è€¦åˆï¼›
- é€šè¿‡åˆ‡é¢å’Œæƒ¯ä¾‹è¿›è¡Œå£°æ˜å¼ç¼–ç¨‹ï¼›
- é€šè¿‡åˆ‡é¢å’Œæ¨¡æ¿å‡å°‘æ ·æ¿ä»£ç 

DIèƒ½å¤Ÿè®©ç›¸äº’åä½œçš„è½¯ä»¶ç»„ä»¶ä¿æŒæ¾æ•£è€¦åˆï¼Œè€Œé¢å‘åˆ‡é¢ç¼–ç¨‹å…è®¸ä½ æŠŠéå¸ƒåº”ç”¨å„å¤„çš„åŠŸèƒ½åˆ†ç¦»å‡ºæ¥å½¢æˆå¯é‡ç”¨çš„ç»„ä»¶ã€‚

AOPèƒ½å¤Ÿç¡®ä¿POJOçš„ç®€å•æ€§ã€‚

åœ¨å®é™…å¼€å‘ç§ï¼Œé€šå¸¸æœåŠ¡å™¨ç«¯é‡‡ç”¨ä¸‰å±‚ä½“ç³»ç»“æ„ï¼Œåˆ†åˆ«ä¸ºè¡¨ç°å±‚ï¼ˆwebï¼‰ã€ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆserviceï¼‰ã€æŒä¹…å±‚ï¼ˆdaoï¼‰ã€‚

Springæ¡†æ¶ä¼˜ç‚¹
- æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘

IOCï¼ˆæ§åˆ¶åè½¬ï¼‰
DI ï¼ˆä¾èµ–æ³¨å…¥ï¼‰
AOP ï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰



#### 2021/4/29 æ˜ŸæœŸå›› æ™´

#### ç¬¬16ç«  å¤šçº¿ç¨‹
##### çº¿ç¨‹æ¦‚è¿°
###### çº¿ç¨‹å’Œè¿›ç¨‹
è¿›ç¨‹æ˜¯å¤„äºè¿è¡Œè¿‡ç¨‹ä¸­çš„ç¨‹åºï¼Œå¹¶å…·æœ‰ä¸€å®šçš„ç‹¬ç«‹åŠŸèƒ½ï¼Œè¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚
ä¸€èˆ¬è€Œè¨€ï¼Œè¿›ç¨‹åŒ…å«å¦‚ä¸‹ä¸‰ä¸ªç‰¹å¾ã€‚
- ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹æ˜¯ç³»ç»Ÿä¸­ç‹¬ç«‹å­˜åœ¨çš„å®ä½“ï¼Œå®ƒå¯ä»¥æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„èµ„æºï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æ‹¥æœ‰è‡ªå·±ç§æœ‰çš„åœ°å€ç©ºé—´ã€‚åœ¨æ²¡æœ‰ç»è¿‡è¿›ç¨‹æœ¬èº«å…è®¸çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç”¨æˆ·è¿›ç¨‹ä¸å¯ä»¥ç›´æ¥è®¿é—®å…¶ä»–è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œ
- åŠ¨æ€æ€§ï¼šè¿›ç¨‹ä¸ç¨‹åºçš„åŒºåˆ«åœ¨äºï¼Œç¨‹åºåªæ˜¯ä¸€ä¸ªé™æ€çš„æŒ‡ä»¤é›†åˆï¼Œè€Œè¿›ç¨‹æ˜¯ä¸€ä¸ªæ­£åœ¨ç³»ç»Ÿä¸­æ´»åŠ¨çš„æŒ‡ä»¤ç»“åˆã€‚åœ¨è¿›ç¨‹ä¸­åŠ å…¥æ—¶é—´çš„æ¦‚å¿µã€‚è¿›ç¨‹å…·æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸå’Œå„ç§ä¸åŒçš„çŠ¶æ€ã€‚
- å¹¶å‘æ€§ï¼šå¤šä¸ªè¿›ç¨‹å¯ä»¥åœ¨å•ä¸ªå¤„ç†å™¨ä¸Šå¹¶å‘æ‰§è¡Œï¼Œå¤šä¸ªè¿›ç¨‹ä¹‹é—´ä¸ä¼šäº’ç›¸å½±å“ã€‚

å¤šçº¿ç¨‹åˆ™æ‰©å±•å¯å¤šè¿›ç¨‹çš„æ¦‚å¿µï¼Œä½¿å¾—åŒä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶å¹¶å‘å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚çº¿ç¨‹ä¹Ÿè¢«ç§°ä½œè½»é‡çº§è¿›ç¨‹ï¼Œçº¿ç¨‹æ˜¯è¿›ç¨‹çš„æ‰§è¡Œå•å…ƒã€‚çº¿ç¨‹åœ¨ç¨‹åºä¸­æ˜¯ç‹¬ç«‹çš„ï¼Œå¹¶å‘çš„æ‰§è¡Œæµã€‚
  çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ç»„æˆéƒ¨åˆ†ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹å¿…é¡»æœ‰ä¸€ä¸ªçˆ¶è¿›ç¨‹ã€‚çº¿ç¨‹å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„å †æ ˆã€è‡ªå·±çš„ç¨‹åºè®¡æ•°å™¨å’Œè‡ªå·±çš„å±€éƒ¨å˜é‡ï¼Œä½†ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œå®ƒä¸çˆ¶è¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚
  çº¿ç¨‹æ˜¯ç‹¬ç«‹å…è®¸çš„ï¼Œå®ƒå¹¶ä¸çŸ¥é“è¿›ç¨‹ä¸­æ˜¯å¦è¿˜æœ‰å…¶ä»–çº¿ç¨‹çš„å­˜åœ¨ã€‚çº¿ç¨‹çš„æ‰§è¡Œæ˜¯æŠ¢å å¼çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰è¿è¡Œçš„çº¿ç¨‹åœ¨ä»»ä½•æ—¶å€™éƒ½å¯èƒ½è¢«æŒ‚èµ·ï¼Œä»¥ä¾¿å¦ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è¿è¡Œã€‚
  ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åˆ›å»ºå’Œæ’¤é”€å¦ä¸€ä¸ªçº¿ç¨‹ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œã€‚

###### å¤šçº¿ç¨‹çš„ä¼˜åŠ¿
  çº¿ç¨‹åœ¨ç¨‹åºä¸­æ˜¯ç‹¬ç«‹çš„ã€å¹¶å‘çš„æ‰§è¡Œæµï¼Œä¸åˆ†éš”çš„è¿›ç¨‹ç›¸æ¯”ï¼Œè¿›ç¨‹ä¸­çº¿ç¨‹ä¹‹é—´çš„éš”ç¦»ç¨‹åºè¦å°ã€‚å®ƒé—¨å…±äº«å†…å­˜ã€æ–‡ä»¶å¥æŸ„å’Œå…¶ä»–æ¯ä¸ªè¿›ç¨‹åº”æœ‰çš„çŠ¶æ€ã€‚
  å› ä¸ºçº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§åœ°æé«˜äº†ç¨‹åºåœ°è¿è¡Œæ•ˆç‡ã€‚
  çº¿ç¨‹æ¯”è¿›ç¨‹å…·æœ‰æ›´é«˜çš„æ€§èƒ½ï¼Œè¿™æ˜¯ç”±äºåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹éƒ½æœ‰å…±æ€§--å›½æ­Œçº¿ç¨‹å…±äº«åŒä¸€ä¸ªè¿›ç¨‹è™šæ‹Ÿç©ºé—´ã€‚çº¿ç¨‹å…±äº«çš„ç¯å¢ƒåŒ…æ‹¬ï¼šè¿›ç¨‹ä»£ç æ®µã€è¿›ç¨‹çš„å…±æœ‰æ•°æ®ç­‰ã€‚åˆ©ç”¨è¿™äº›å…±äº«çš„æ•°æ®ï¼Œçº¿ç¨‹å¾ˆå®¹æ˜“å®ç°ç›¸äº’ä¹‹é—´çš„é€šè®¯ã€‚
  å¤šçº¿ç¨‹ç¼–ç¨‹å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š
  - è¿›ç¨‹ä¹‹é—´ä¸èƒ½å…±äº«å†…å­˜ï¼Œä½†çº¿ç¨‹ä¹‹é—´å…±äº«å†…å­˜
  - ç³»ç»Ÿåˆ›å»ºè¿›ç¨‹æ—¶éœ€è¦ä¸ºè¯¥è¿›ç¨‹é‡æ–°åˆ†é…ç³»ç»Ÿèµ„æºï¼Œä½†åˆ›å»ºçº¿ç¨‹åˆ™ä»£ä»·å°å¾—å¤šï¼Œå› æ­¤ä½¿ç”¨å¤šçº¿ç¨‹æ¥å®ç°å¤šä¸ªä»»åŠ¡å¹¶å‘æ¯”å¤šè¿›ç¨‹çš„æ•ˆç‡é«˜ã€‚
  - Javaè¯­è¨€å†…ç½®äº†å¤šçº¿ç¨‹åŠŸèƒ½æ”¯æŒï¼Œè€Œä¸æ˜¯å•çº¯åœ°ä½œä¸ºåº•å±‚æ“ä½œæ–°ç³»ç»Ÿåœ°è°ƒåº¦æ–¹å¼ï¼Œä»è€Œç®€åŒ–äº†Javaçš„å¤šçº¿ç¨‹ç¼–ç¨‹

##### çº¿ç¨‹çš„åˆ›å»ºå’Œå¯åŠ¨
Javaä½¿ç”¨Threadç±»ä»£è¡¨çº¿ç¨‹ï¼Œæ‰€æœ‰çš„çº¿ç¨‹å¯¹è±¡éƒ½å¿…é¡»æ˜¯Threadç±»æˆ–å…¶å­ç±»çš„å®ä¾‹ã€‚
###### ç»§æ‰¿Threadç±»åˆ›å»ºçº¿ç¨‹ç±»
é€šè¿‡ç»§æ‰¿Threadç±»æ¥åˆ›å»ºå¹¶å¯åŠ¨å¤šçº¿ç¨‹çš„æ­¥éª¤å¦‚ä¸‹ã€‚
1. å®šä¹‰Threadç±»çš„å­ç±»ï¼Œå¹¶é‡å†™è¯¥ç±»çš„run()æ–¹æ³•ï¼Œè¯¥run()æ–¹æ³•çš„æ–¹æ³•ä½“å°±ä»£è¡¨äº†çº¿ç¨‹éœ€è¦å®Œæˆçš„ä»»åŠ¡ã€‚å› æ­¤æŠŠrun()æ–¹æ³•ç§°ä¸ºçº¿ç¨‹æ‰§è¡Œä½“ã€‚
2. åˆ›å»ºThreadå­ç±»çš„å®ä¾‹ï¼Œå³åˆ›å»ºäº†çº¿ç¨‹å¯¹è±¡ã€‚
3. è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()æ–¹æ³•æ¥å¯åŠ¨è¯¥çº¿ç¨‹ã€‚
```java
public class FirstThread extends Thread{
    private int i;
    //é‡å†™run()æ–¹æ³•ï¼Œrun()æ–¹æ³•çš„æ–¹æ³•ä½“å°±æ˜¯çº¿ç¨‹æ‰§è¡Œä½“
    public void run(){
        for (; i<100;i++){
            //ä½†çº¿ç¨‹ç±»ç»§æ‰¿Threadç±»æ˜¯ï¼Œç›´æ¥ä½¿ç”¨thiså³å¯è·å¾—å½“å‰çº¿ç¨‹
            //Threadå¯¹è±¡çš„getName()è¿”å›å½“å‰çº¿ç¨‹çš„åå­—
            System.out.println(getName() + " " + i);
        }
    }
    public static void main(String[] args){
        for (int i = 0; i < 100; i++){
            //è°ƒç”¨Threadçš„currenetThread().getName()æ–¹æ³•æ¥è·å–å½“å‰çº¿ç¨‹
            System.out.println(Thread.currentThread().getName() +
                    " " + i);
            if (i == 20){
                new FirstThread().start();
                new FirstThread().start();
            }
        }
    }
}
```
å½“Javaç¨‹åºå¼€å§‹è¿è¡Œåï¼Œç¨‹åºè‡³å°‘ä¼šåˆ›å»ºä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹çš„çº¿ç¨‹æ‰§è¡Œä½“ä¸æ˜¯ç”±run()æ–¹æ³•ç¡®å®šçš„ï¼Œè€Œæ˜¯ç”±main()æ–¹æ³•ç¡®å®šçš„--main()æ–¹æ³•çš„æ–¹æ³•ä½“ä»£è¡¨ä¸»çº¿ç¨‹çš„çº¿ç¨‹æ‰§è¡Œä½“ã€‚
- Thread.currentThread()ï¼šcurrrentThread()æ˜¯Threadç±»çš„é™æ€æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ€»æ˜¯è¿”å›å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡
- getName()ï¼šè¯¥æ–¹æ³•æ˜¯Threadç±»çš„å®ä¾‹æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›è°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹åå­—ã€‚

> ç¨‹åºå¯ä»¥é€šè¿‡setName(String name)æ–¹æ³•æ¥ä¸ºçº¿ç¨‹è®¾ç½®åå­—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡getName()æ–¹æ³•æ¥è¿”å›æŒ‡å®šçš„çº¿ç¨‹åå­—ã€‚

Thread-0å’ŒThread-1ä¸¤ä¸ªçº¿ç¨‹è¾“å‡ºçš„iå˜é‡ä¸è¿ç»­--æ³¨æ„ï¼šiå˜é‡æ˜¯FirstThreadçš„å®ä¾‹å˜é‡ï¼Œè€Œä¸æ˜¯å±€éƒ¨å˜é‡ï¼Œå½“åº”ä¸ºç¨‹åºæ¯æ¬¡åˆ›å»ºçº¿ç¨‹å¯¹è±¡æ—¶éƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªFirstThreadå¯¹è±¡ï¼Œæ‰€ä»¥Thread-0å’ŒThread-1ä¸èƒ½å…±äº«è¯¥å®ä¾‹å˜é‡ã€‚
> ä½¿ç”¨ç»§æ‰¿Threadç±»çš„æ–¹æ³•æ¥åˆ›å»ºçº¿ç¨‹ç±»æ—¶ï¼Œå¤šä¸ªçº¿ç¨‹ä¹‹é—´æ— æ³•å…±äº«çº¿ç¨‹ç±»çš„å®ä¾‹å˜é‡ã€‚
> 

###### å®ç°Runnableæ¥å£åˆ›å»ºçº¿ç¨‹ç±»
å®ç°Runnableæ¥å£æ¥åˆ›å»ºå¹¶å¯åŠ¨å¤šçº¿ç¨‹æ­¥éª¤å¦‚ä¸‹ï¼š
1. å®šä¹‰Runnableæ¥å£çš„å®ç°ç±»ï¼Œå¹¶é‡å†™è¯¥æ¥å£çš„run()æ–¹æ³•ï¼Œè¯¥run()æ–¹æ³•çš„æ–¹æ³•ä½“åŒæ ·æ—¶è¯¥çº¿ç¨‹çš„çº¿ç¨‹æ‰§è¡Œä½“ã€‚
2. åˆ›å»ºRunnableå®ç°ç±»çš„å®ä¾‹ï¼Œå¹¶ä»¥æ­¤å®ä¾‹ä½œä¸ºThreadçš„targetæ¥åˆ›å»ºThreadå¯¹è±¡ï¼Œè¯¥Threadå¯¹è±¡æ‰æ˜¯çœŸæ­£çš„çº¿ç¨‹å¯¹è±¡ã€‚
  > Runableå¯¹è±¡ä»…ä»…ä½œä¸ºThreadå¯¹è±¡çš„targetï¼ŒRunableå®ç°ç±»é‡ŒåŒ…å«çš„run()æ–¹æ³•ä»…ä½œä¸ºçº¿ç¨‹æ‰§è¡Œä½“ã€‚è€Œå®é™…çš„çº¿ç¨‹å¯¹è±¡ä¾ç„¶æ—¶Threadå®ä¾‹ï¼Œåªæ˜¯æ”¹Threadçº¿ç¨‹è´Ÿè´£æ‰§è¡Œå…¶taragetçš„run()æ–¹æ³•ã€‚
  > 

3. è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()æ–¹æ³•æ¥å¯åŠ¨è¯¥çº¿ç¨‹ã€‚

```java
public class SecondThread implements Runnable{
    private int i;
    @Override
    public void run() {
        for( ; i < 100; i++){
            //å½“çº¿ç¨‹ç±»å®ç°Runnableæ¥å£æ—¶
            //å¦‚æœæƒ³è·å–å½“å‰çº¿ç¨‹ï¼Œåªèƒ½ç”¨Thread.currentThread()æ–¹æ³•
            System.out.println(Thread.currentThread().getName()
            + " " + i);
        }
    }
    public static void main(String[] args){
        for(int i=0; i< 100; i++){
            System.out.println(Thread.currentThread().getName()+
                    " " + i);
            if(i == 20){
                SecondThread st = new SecondThread();
                new Thread(st, "æ–°çº¿ç¨‹1").start();
                new Thread(st, "æ–°çº¿ç¨‹2").start();
            }
        }

    }
}
```
> Runnaleæ¥å£ä¸­åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä»Java 8 å¼€å§‹ï¼ŒRunable æ¥å£ä½¿ç”¨äº†@FunctionalInterfaceä¿®é¥°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒRunnableæ¥å£æ—¶å‡½æ•°å¼æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼åˆ›å»ºRunableå¯¹è±¡ã€‚
> 

  ** ä»è¾“å‡ºç»“æœåˆ†æï¼Œä¸¤ä¸ªå­çº¿ç¨‹çš„iå˜é‡æ˜¯è¿ç»­çš„ï¼Œä¹Ÿå°±æ˜¯é‡‡ç”¨Runavleæ¥å£çš„æ–¹å¼åˆ›å»ºçš„å¤šçº¿ç¨‹å¯ä»¥å…±äº«çº¿ç¨‹ç±»çš„å®ä¾‹å˜é‡ã€‚è¿™æ˜¯å› ä¸ºåœ¨è¿™ç§èŒƒå¼ä¸‹ï¼Œç¨‹åºæ‰€åˆ›å»ºçš„Runnableå¯¹è±¡åªæ˜¯çº¿ç¨‹çš„targetï¼Œè€Œå¤šçº¿ç¨‹å¯ä»¥å…±äº«ä¸€ä¸ªtargetï¼Œæ‰€ä»¥å¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«åŒä¸€ä¸ªçº¿ç¨‹ç±»ï¼ˆå®é™…ä¸Šå› è¯¥æ˜¯çº¿ç¨‹çš„targetç±»ï¼‰çš„å®ä¾‹å˜é‡ã€‚**

###### ä½¿ç”¨Callableå’ŒFutureåˆ›å»ºçº¿ç¨‹
  ä»JAva 5 å¼€å§‹ï¼ŒJavaæä¾›äº†Callableæ¥å£ï¼Œè¯¥æ¥å£æä¾›äº†ä¸€ä¸ªcall()æ–¹æ³•å¯ä»¥ä½œä¸ºçº¿ç¨‹æ‰§è¡Œä½“ï¼Œä½†call()æ–¹æ³•æ¯”run()æ–¹æ³•åŠŸæ›´å¼ºå¤§ã€‚
  - call()æ–¹æ³•å¯ä»¥æ²¡æœ‰è¿”å›å€¼
  - call()æ–¹æ³•å¯ä»¥æŠ›å‡ºå¼‚å¸¸

Java 5æä¾›äº†Futureæ¥å£æ¥ä»£è¡¨Callableæ¥å£é‡Œcall()æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¹¶ä¸ºFutureæ¥å£æä¾›äº†ä¸€ä¸ªFutureTaskå®ç°ç±»ï¼Œè¯¥å®ç°ç±»å®ç°ç±»Futureæ¥å£ï¼Œå¹¶å®ç°äº†Runnableæ¥å£--å¯ä»¥ä½œä¸ºThreadã€
ç±»çš„targetã€‚
  åœ¨Futureæ¥å£é‡Œå®šä¹‰äº†å¦‚ä¸‹å‡ ä¸ªå…¬å…±æ–¹æ³•æ¥æ§åˆ¶å®ƒå…³è”çš„Callableä»»åŠ¡ã€‚
  - boolean cancel(boolean myInterruptIfRunning)ï¼šè¯•å›¾å–æ¶ˆè¯¥Futureé‡Œå…³è”çš„Callableä»»åŠ¡ã€‚
  - V get()ï¼šè¿”å›Callableä»»åŠ¡é‡Œcall()æ–¹æ³•çš„è¿”å›å€¼ã€‚è°ƒç”¨è¯¥æ–¹æ³•å°†å¯¼è‡´ç¨‹åºé˜»å¡ï¼Œå¿…é¡»ç­‰åˆ°å­çº¿ç¨‹ç»“æŸåæ‰ä¼šå¾—åˆ°è¿”å›å€¼ã€‚
  - V get(long timeout , TimeUnit unit)ï¼šè¿”å›Callableä»»åŠ¡é‡Œcall()æ–¹æ³•çš„é¥­è¿”å›å€¼ã€‚è¯¥æ–¹æ³•è®©ç¨‹åºæœ€å¤šé˜»å¡timeoutå’ŒunitæŒ‡å®šçš„æ—¶é—´ï¼Œå¦‚æœç»è¿‡æŒ‡å®šçš„æ—¶é—´åCallableä»»åŠ¡ä¾ç„¶æ²¡æœ‰è¿”å›å€¼ï¼Œå°†ä¼šæŠ›å‡ºTimeoutExceptionå¼‚å¸¸ã€‚
  - boolean isCancelled()ï¼šå¦‚æœåœ¨Callableä»»åŠ¡æ­£å¸¸å®Œæˆå‰è¢«å–æ¶ˆï¼Œåˆ™è¿”å›trueã€‚
  - boolean isDone()ï¼šå¦‚æœCallableä»»åŠ¡å®Œæˆï¼Œåˆ™è¿”å›trueã€‚

  > Callableæ¥å£æœ‰æ³›å‹é™åˆ¶ï¼ŒCallableæ¥å£é‡Œçš„æ³›å‹å‚ç±»å‹ä¸call()æ–¹æ³•è¿”å›å€¼ç±»å‹ç›¸åŒã€‚è€Œä¸”Callableæ¥å£æ—¶å‡½æ•°å¼æ¥å£ï¼Œå› æ­¤å¯ä½¿ç”¨Lambdaè¡¨è¾¾å¼åˆ›å»ºCallableå¯¹è±¡ã€‚
  > 

åˆ›å»ºå¹¶å¯åŠ¨æœ‰è¿”å›å€¼çš„çº¿ç¨‹çš„æ­¥éª¤å¦‚ä¸‹ï¼š
1. åˆ›å»ºCallableæ¥å£çš„å®ç°ç±»ï¼Œå¹¶å®ç°call()æ–¹æ³•ï¼Œè¯¥call()æ–¹æ³•å°†ä½œä¸ºçº¿ç¨‹æ‰§è¡Œä½“ï¼Œä¸”è¯¥call()æ–¹æ³•æœ‰è¿”å›å€¼ï¼Œå†åˆ›å»ºCallableå®ç°ç±»çš„å®ä¾‹ã€‚ä»Java 8å¼€å§‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼åˆ›å»ºCallableå¯¹è±¡ã€‚
2. ä½¿ç”¨FutureTaskç±»æ¥åŒ…è£…Callableå¯¹è±¡ï¼Œè¯¥FutureTaskå¯¹è±¡å°è£…äº†è¯¥Callableå¯¹è±¡çš„call()æ–¹æ³•çš„è¿”å›å€¼ã€‚
3. ä½¿ç”¨FutureTaskå¯¹è±¡ä½œä¸ºThreadå¯¹è±¡çš„targetåˆ›å»ºå¹¶å¯åŠ¨æ–°è¿›ç¨‹ã€‚
4. è°ƒç”¨FutureTaskå¯¹è±¡çš„get()æ–¹æ³•æ¥è·å¾—å­çº¿ç¨‹æ‰§è¡Œç»“æŸåçš„è¿”å›å€¼ã€‚ã€‘

```java
import java.util.concurrent.Callable;
import java.util.concurrent.FutureTask;

public class ThirdThread {
    public static void main(String[] args){
        //åˆ›å»ºCallableå¯¹è±¡
        ThirdThread tr = new ThirdThread();
        //å…ˆä½¿ç”¨LAmbdaè¡¨è¾¾å¼åˆ›å»ºCallable<Integer>å¯¹è±¡
        //ä½¿ç”¨FutureTaskæ¥æ“ä½œCallalbeå¯¹è±¡
        FutureTask<Integer> task = new FutureTask<Integer>((Callable<Integer>)()->{
            int i = 0;
            for(;i<100;i++){
                System.out.println(Thread.currentThread().getName()+ " çš„å¾ªç¯å˜é‡içš„å€¼ï¼š"+ i);
            }
            //call()æ–¹æ³•å¯ä»¥æœ‰è¿”å›å€¼
            return i;
        });
        for (int i = 0; i< 100;i++){
            System.out.println(Thread.currentThread().getName()
            + " çš„å¾ªç¯å˜é‡içš„å€¼" + i);
            if(i==20){
                //å®è´¨è¿˜æ˜¯ä¸€Callableå¯¹è±¡æ¥åºŠå•Šé‡‘å¹¶å¯åŠ¨çº¿ç¨‹çš„
                new Thread(task,"æœ‰è¿”å›å€¼çš„çº¿ç¨‹").start();
            }
        }
        try{
            System.out.println("å­çº¿ç¨‹çš„è¿”å›å€¼ï¼š"+ task.get());
        }catch (Exception ex){
            ex.printStackTrace();
        }
    }
}
```
  å®ç°Callableæ¥å£ä¸å®ç°Runnableæ¥å£å¹¶æ²¡æœ‰å¤ªå¤§çš„å·®åˆ«ï¼Œåªæ˜¯Callableçš„call()æ–¹æ³•å…è®¸å£°æ˜æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œä¸”å…è®¸å¸¦è¿”å›å€¼ã€‚
  ç¨‹åºæœ€åè°ƒç”¨FuntrureTaskå¯¹è±¡çš„get()æ–¹æ³•æ¥è¿”å›call()æ–¹æ³•çš„è¿”å›å€¼--è¯¥æ–¹æ³•å°†å¯¼è‡´ä¸»çº¿ç¨‹è¢«é˜»å¡ï¼Œç›´åˆ°call()æ–¹æ³•ç»“æŸå¹¶è¿”å›ä¸ºæ­¢ã€‚

###### åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼å¯¹æ¯”
  é€šè¿‡ç»§æ‰¿Threadç±»æˆ–å®ç°Runnableã€Callableæ¥å£éƒ½å¯ä»¥å®ç°å¤šçº¿ç¨‹ï¼Œä¸è¿‡å®ç°Runnableæ¥å£ä¸å®ç°Callableæ¥å£çš„æ–¹å¼åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯Callableæ¥å£é‡Œå®šä¹‰çš„æ–¹æ³•æœ‰è¿”å›å€¼ï¼Œå¯ä»¥è‡ªå·±å£°æ˜æŠ›å‡ºå¼‚å¸¸è€Œå·²ã€‚è¿™ä¸¤ç§æ–¹å¼ä¸Threadæ–¹å¼åˆ›å»ºå¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹ï¼š
  - çº¿ç¨‹ç±»åªæ˜¯å®ç°äº†Runableæ¥å£æˆ–Callableæ¥å£ï¼Œè¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ã€‚
  - åœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«åŒä¸€ä¸ªtargetå¯¹è±¡ï¼Œæ‰€ä»¥éå¸¸é€‚åˆå¤šä¸ªç›¸åŒçš„è¿›ç¨‹æ¥å¤„ç†åŒä¸€ä»½èµ„æºçš„æƒ…å†µï¼Œä»è€Œå¯ä»¥å°†CPUã€ä»£ç å’Œæ•°æ®åˆ†å¼€ï¼Œå½¢æˆæ¸…æ™°çš„æ¨¡å‹ï¼Œè¾ƒå¥½åœ°ä½“ç°äº†é¢å‘å¯¹è±¡åœ°æ€æƒ³ã€‚
  - åŠ£åŠ¿æ˜¯ï¼Œç¼–ç¨‹ç¨ç¨å¤æ‚ï¼Œå¦‚æœéœ€è¦è®¿é—®å½“å‰çº¿ç¨‹ï¼Œåˆ™å¿…é¡»ä½¿ç”¨Thread.currentThread()æ–¹æ³•ã€‚

  é‡‡ç”¨ç»§æ‰¿Threadç±»åœ°æ–¹å¼åˆ›å»ºå¤šçº¿ç¨‹åœ°ä¼˜ç¼ºç‚¹ï¼š
  - åŠ£åŠ¿æ˜¯ï¼Œå› ä¸ºçº¿ç¨‹ç±»å·²ç»ç»§æ‰¿äº†Threadç±»ï¼Œæ‰€ä»¥ä¸èƒ½å†ç»§æ‰¿å…¶ä»–çˆ¶ç±»
  - ä¼˜åŠ¿æ˜¯ï¼Œç¼–å†™ç®€å•ï¼Œå¦‚æœéœ€è¦è®¿é—®å½“å‰çº¿ç¨‹ï¼Œåˆ™æ— éœ€ä½¿ç”¨Thread.currentThread()æ–¹æ³•ï¼Œç›´æ¥æ–½ä¸€å…¬thiså³å¯è·å¾—å½“å‰çº¿ç¨‹ã€‚

æ‰€ä»¥ç»¼ä¸Šæ‰€è¿°ï¼Œä¸€èˆ¬é‡‡ç”¨å®ç°Runnableæ¥å£ã€Callableæ¥å£åœ°æ–¹å¼æ¥åˆ›å»ºå¤šè¿›ç¨‹ã€‚
##### çº¿ç¨‹åœ°ç”Ÿå‘½å‘¨æœŸ 
  åœ¨çº¿ç¨‹åœ°ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå®ƒè¦ç»è¿‡æ–°å»ºï¼ˆNewï¼‰ã€å°±ç»ªï¼ˆRunnableï¼‰ã€è¿è¡Œï¼ˆRunningï¼‰ã€é˜»å¡ï¼ˆBlockedï¼‰å’Œæ­»äº¡ï¼ˆDeadï¼‰5ç§çŠ¶æ€ã€‚å½“çº¿ç¨‹å¯åŠ¨ä»¥åï¼ŒCPUéœ€è¦åœ¨å¤šæ¡çº¿ç¨‹ä¹‹é—´åˆ‡æ¢ï¼Œäºæ˜¯çº¿ç¨‹çŠ¶æ€ä¹Ÿä¼šå¤šæ¬¡åœ¨è¿è¡Œã€å°±ç»ªä¹‹é—´åˆ‡æ¢ã€‚
###### æ–°å»ºå’Œå°±ç»ªçŠ¶æ€
  å½“ç¨‹åºä½¿ç”¨newå…³é”®å­—åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ä¹‹åï¼Œè¯¥çº¿ç¨‹å°±å¤„äºæ–°å»ºçŠ¶æ€ï¼ŒJavaè™šæ‹Ÿæœºä¸ºå…¶åˆ†é…å†…å­˜ï¼Œå¹¶åˆå§‹åŒ–å…¶æˆå‘˜å˜é‡
  å½“çº¿ç¨‹å¯¹è±¡è°ƒç”¨äº†start()æ–¹æ³•ä¹‹åï¼Œè¯¥çº¿ç¨‹å¤„äºå°±ç»ªçŠ¶æ€ï¼ŒJAvaè™šæ‹Ÿæœºä¼šä¸ºå…¶åˆ›å»ºæ–¹æ³•è°ƒç”¨æ ˆå’Œç¨‹åºè®¡æ•°å™¨ï¼Œå¤„äºè¿™ç§çŠ¶æ€ä¸­åœ°çº¿ç¨‹å¹¶æ²¡æœ‰å¼€å§‹è¿è¡Œï¼Œåªæ˜¯è¡¨ç¤ºè¯¥çº¿ç¨‹å¯ä»¥è¿è¡Œäº†ã€‚è‡³äºè¯¥çº¿ç¨‹ä½•æ—¶å–€ä»€è¿è¡Œï¼Œå–å†³äºJVMé‡Œçº¿ç¨‹è°ƒåº¦å™¨åœ°è°ƒåº¦ã€‚
  > å¦‚æœç›´æ¥è°ƒç”¨çº¿ç¨‹å¯¹è±¡åœ°run()æ–¹æ³•ï¼Œç³»ç»ŸæŠŠçº¿ç¨‹å¯¹è±¡å½“æˆä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œè€Œrun()æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œè€Œä¸æ˜¯çº¿ç¨‹æ‰§è¡Œä½“ã€‚
  > 
  è°ƒç”¨äº†çº¿ç¨‹åœ°run()æ–¹æ³•åï¼Œè¯¥çº¿ç¨‹å·²ç»ä¸å†å¤„äºæ–°å»ºçŠ¶æ€äº†ï¼Œä¸è¦å†æ¬¡è°ƒç”¨çº¿ç¨‹å¯¹è±¡åœ°start()æ–¹æ³•ã€‚

  > åªèƒ½å †å¤„äºæ–°å»ºçŠ¶æ€åœ°çº¿ç¨‹è°ƒç”¨start()æ–¹æ³•ï¼Œå¦åˆ™å°†å¼•å‘IllegalThreadStateExceptionå¼‚å¸¸ã€‚
  > 

ï¼š** åº•å±‚å¹³å°æ§åˆ¶ï¼Œå…·æœ‰ä¸€å®šéšæœºæ€§**

###### è¿è¡Œå’Œé˜»å¡çŠ¶æ€
  å¦‚æœå¤„äºå°±ç»ªçŠ¶æ€åœ°çº¿ç¨‹è·å¾—äº†CPUï¼Œå¼€å§‹æ‰§è¡Œrun()æ–¹æ³•çš„çº¿ç¨‹æ‰§è¡Œä½“ï¼Œåˆ™è¯¥çº¿ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€å¦‚æœè®¡ç®—æœºåªæœ‰ä¸€ä¸ªCPUï¼Œé‚£ä¹ˆåœ¨ä»»ä½•æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€ã€‚
  çº¿ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦è¢«ä¸­æ–­ï¼Œç›®çš„æ˜¯ä½¿å…¶ä»–çº¿ç¨‹è·å¾—æ‰§è¡Œçš„æœºä¼šï¼Œçº¿ç¨‹è°ƒåº¦çš„ç»†èŠ‚å–å†³äºåº•å±‚å¹³å°æ‰€é‡‡ç”¨çš„ç­–ç•¥ã€‚
  å¯¹äºæŠ¢å å¼ç­–ç•¥çš„ç³»ç»Ÿè€Œè¨€ï¼Œç³»ç»Ÿä¼šç»™æ¯ä¸ªå¯æ‰§è¡Œçš„çº¿ç¨‹ä¸€ä¸ªå°æ—¶æ®µæ¥å¤„ç†ä»»åŠ¡ï¼›ä½†è¯¥æ—¶é—´æ®µç”¨å®Œåï¼Œç³»ç»Ÿå°±ä¼šå‰¥å¤ºè¯¥çº¿ç¨‹æ‰€å ç”¨çš„èµ„æºï¼Œè®©å…¶ä»–çº¿ç¨‹è·å¾—æ‰§è¡Œçš„æœºä¼šã€‚
  æ‰€æœ‰ç°ä»£çš„æ¡Œé¢å’ŒæœåŠ¡å™¨æ“ä½œç³»ç»Ÿéƒ½é‡‡ç”¨æŠ¢å å¼è°ƒåº¦ç­–ç•¥ï¼Œä½†ä¸€äº›å°å‹è®¾å¤‡å¦‚æ‰‹æœºåˆ™å¯èƒ½é‡‡ç”¨åä½œå¼è°ƒåº¦ç­–ç•¥ï¼Œ
  å¦‚å‘ç”Ÿä»¥ä¸‹æƒ…å†µæ—¶ï¼Œçº¿ç¨‹å°†ä¼šè¿›å…¥é˜»å¡çŠ¶æ€
  - çº¿ç¨‹è°ƒç”¨sleep()æ–¹æ³•ä¸»åŠ¨æ”¾å¼ƒæ‰€å ç”¨çš„å¤„ç†å™¨èµ„æºã€‚
  - çº¿ç¨‹è°ƒç”¨äº†ä¸€ä¸ªé˜»å¡å¼IOæ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•è¿”å›ä¹‹å‰ï¼Œè¯¥çº¿ç¨‹è¢«é˜»å¡ã€‚
  - çº¿ç¨‹è¯•å›¾è·å¾—ä¸€ä¸ªåŒæ­¥ç›‘è§†å™¨ï¼Œä½†è¯¥åŒæ­¥ç›‘è§†å™¨æ­£è¢«å…¶ä»–çº¿ç¨‹æ‰€æŒæœ‰ã€‚
  - çº¿ç¨‹åœ¨ç­‰å¾…æŸä¸ªé€šçŸ¥ï¼ˆnotifyï¼‰
  - ç¨‹åºè°ƒç”¨äº†çº¿ç¨‹çš„suspend()æ–¹æ³•å°†è¯¥çº¿ç¨‹æŒ‚èµ·ã€‚ä½†è¿™ä¸ªæ–¹æ³•å®¹æ˜“å¯¼è‡´æ­»é”ï¼Œæ‰€ä»¥åº”è¯¥å°½é‡é¿å…è¯¥æ–¹æ³•ã€‚

  è¢«é˜»å¡çš„çº¿ç¨‹ä¼šåœ¨åˆé€‚çš„æ—¶å€™ä»æ–°è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œæ‰€ä»¥è¢«é˜»å¡çš„çº¿ç¨‹çš„é˜»å¡è§£é™¤åï¼Œå¿…é¡»é‡æ–°ç­‰å¾…çº¿ç¨‹è°ƒåº¦å™¨å†æ¬¡è°ƒåº¦å®ƒã€‚
  è§£é™¤é˜»å¡
  - è°ƒç”¨sleep()æ–¹æ³•çš„çº¿ç¨‹ç»è¿‡äº†æŒ‡å®šæ—¶é—´ã€‚
  - çº¿ç¨‹è°ƒç”¨çš„é˜»å¡å¼IOæ–¹æ³•å·²ç»è¿”å›ã€‚
  - çº¿ç¨‹æˆåŠŸåœ°è·å¾—äº†è¯•å›¾å–å¾—çš„åŒæ­¥ç›‘è§†å™¨ã€‚
  - çº¿ç¨‹æ­£ç­‰å¾…æŸä¸ªé€šçŸ¥æ—¶ï¼Œå…¶ä»–çº¿ç¨‹å‘å‡ºäº†ä¸€ä¸ªé€šçŸ¥ã€‚
  - å¤„äºæŒ‚èµ·çŠ¶æ€çš„çº¿ç¨‹è¢«è°ƒç”¨äº†resume()æ¢å¤æ–¹æ³•ã€‚

###### çº¿ç¨‹æ­»äº¡
- run()æˆ–call()æ–¹æ³•æ‰§è¡Œå®Œæˆï¼Œçº¿ç¨‹æ­£å¸¸ç»“æŸ
- çº¿ç¨‹æŠ›å‡ºä¸€ä¸ªæœªæ•è·çš„Exceptionæˆ–Error
- ç›´æ¥è°ƒç”¨å…±è¯¥çº¿ç¨‹çš„stop()æ–¹æ³•æ¥ç»“æŸè¯¥çº¿ç¨‹--è¯¥æ–¹æ³•å®¹æ˜“å¯¼è‡´æ­»é”ï¼Œé€šå¸¸ä¸æ¨èä½¿ç”¨ã€‚

> å½“ä¸»çº¿ç¨‹ç»“æŸæ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¸å—ä»»ä½•å½±å“ï¼Œå¹¶ä¸ä¼šéšä¹‹ç»“æŸã€‚ä¸€æ—¦çº¿ç¨‹å¯åŠ¨èµ·æ¥åï¼Œå®ƒå°±æ‹¥æœ‰å’Œä¸»çº¿ç¨‹ç›¸åŒçš„åœ°ä½ï¼Œå®ƒä¸ä¼šå—ä¸»çº¿ç¨‹å½±å“ã€‚
>

  ä¸ºäº†æµ‹è¯•æŸä¸ªçº¿ç¨‹æ˜¯å¦æ­»äº¡ï¼Œå¯ä»¥è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„IsAlive()æ–¹æ³•ï¼Œå½“çº¿ç¨‹å¤„äºå°±ç»ªã€è¿è¡Œã€é˜»å¡ä¸‰ç§çŠ¶æ€æ—¶ï¼Œæ–¹æ³•å°†è¿”å›trueï¼›å½“çº¿ç¨‹å¤„äºæ–°å»ºã€æ­»äº¡ä¸¤ç§çŠ¶æ€æ—¶ï¼Œè¯¥æ–¹æ³•è¿”å›falseã€‚

> å¯¹å·²ç»æ­»äº¡çš„çº¿ç¨‹ä½¿ç”¨start()æ–¹æ³•å°†å¼•å‘IllegalThreadStateExceptionå¼‚å¸¸ã€‚
> 

##### æ§åˆ¶çº¿ç¨‹
###### joinçº¿ç¨‹
  å½“æŸä¸ªç¨‹åºæ‰§è¡Œæµä¸­è°ƒç”¨å…¶ä»–çº¿ç¨‹çš„join()æ–¹æ³•æ—¶ï¼Œè°ƒç”¨çº¿ç¨‹çš„join()æ–¹æ³•æ—¶ï¼Œè°ƒç”¨çº¿ç¨‹å°†è¢«é˜»å¡ï¼Œç›´åˆ°è¢«join()æ–¹æ³•åŠ å…¥çš„joinçº¿ç¨‹æ‰§è¡Œå®Œæˆä¸ºæ­¢ã€‚
  join()æ–¹æ³•é€šå¸¸ç”±ä½¿ç”¨çº¿ç¨‹çš„ç¨‹åºè°ƒç”¨ï¼Œä»¥å°†å¤§é—®é¢˜åˆ’åˆ†æˆè®¸å¤šå°é—®é¢˜ï¼Œæ¯ä¸ªå°é—®é¢˜åˆ†é…ä¸€ä¸ªçº¿ç¨‹ã€‚å½“æ‰€æœ‰çš„å°é—®é¢˜éƒ½å¾—åˆ°å¤„ç†åï¼Œå†è°ƒç”¨ä¸»çº¿ç¨‹æ¥è¿›ä¸€æ­¥æ“ä½œã€‚
```java
public class JoinThread extends Thread{
    //æä¾›ä¸€ä¸ªæœ‰å‚æ•°çš„æ„é€ å™¨ï¼Œç”¨äºè®¾ç½®è¯¥çº¿ç¨‹çš„åå­—
    public JoinThread(String name){
        super(name);
    }
    //é‡å†™run()æ–¹æ³•ï¼Œå®šä¹‰çº¿ç¨‹æ‰§è¡Œä½“
    public void run(){
        for (int i=0; i< 100; i++){
            System.out.println(getName()+ " " + i );
        }
    }
    public static void main(String[] args) throws Exception{
        //å¯åŠ¨å­çº¿ç¨‹
        new JoinThread("æ–°çº¿ç¨‹").start();
        for(int i = 0; i< 100; i++){
            if(i == 20){
                JoinThread jt = new JoinThread("è¢«Joinçš„çº¿ç¨‹");
                jt.start();
                //mainçº¿ç¨‹è°ƒç”¨äº†jtçº¿ç¨‹çš„join()æ–¹æ³•ï¼Œ
                //mainçº¿ç¨‹å¿…é¡»ç­‰jtçº¿ç¨‹æ‰§è¡Œç»“æŸåæ‰ä¼šå‘ä¸‹æ‰§è¡Œ
                jt.join();
            }
            System.out.println(Thread.currentThread().getName()+ " " + i);
        }
    }
}

```
join()æ–¹æ³•æœ‰å¦‚ä¸‹ä¸‰ç§é‡è½½å½¢å¼
- join()ï¼šç­‰å¾…è¢«joinçš„çº¿ç¨‹æ‰§è¡Œå®Œæˆã€‚
- join(long millis)ï¼šç­‰å¾…è¢«joinçš„çº¿ç¨‹çš„æ—¶é—´æœ€é•¿ä¸ºmillisæ¯«ç§’ã€‚å¦‚æœå†millisæ¯«ç§’å†…è¢«joinçš„çº¿ç¨‹è¿˜æ²¡æ‰§è¡Œç»“æŸï¼Œåˆ™ä¸å†ç­‰å¾…ã€‚
- join(long millis, int nanos)ï¼šç­‰å¾…è¢«joinçš„çº¿ç¨‹çš„æ—¶é—´æœ€é•¿ä¸ºmillisæ¯«ç§’åŠ nanoså¥½å¾®ç§’ã€‚

###### åå°çº¿ç¨‹
  æœ‰ä¸€ç§çº¿ç¨‹ï¼Œå®ƒæ˜¯åœ¨åå°è¿è¡Œçš„ï¼Œå®ƒçš„ä»»åŠ¡æ˜¯ä¸ºå…¶ä»–çš„çº¿ç¨‹æä¾›æœåŠ¡ï¼Œè¿™ç§çº¿ç¨‹è¢«ç§°ä¸º"åå°çº¿ç¨‹ï¼ˆDaemon Threadï¼‰"ï¼Œåˆç§°ä¸ºâ€œå®ˆæŠ¤çº¿ç¨‹â€æˆ–â€œå¤©ä½¿çº¿ç¨‹â€ã€‚JVMçš„åƒåœ¾å›æ”¶å°±æ˜¯å…¸å‹çš„åå°çº¿ç¨‹ã€‚
  åå°çº¿ç¨‹ç‰¹å¾ï¼šå‰å°çº¿ç¨‹éƒ½æ­»äº¡ï¼Œåå°çº¿ç¨‹ä¼šè‡ªåŠ¨æ­»äº¡ã€‚
  setDaemon(true)æ–¹æ³•å¯ä»¥å°†æŒ‡å®šçº¿ç¨‹è®¾ç½®æˆåå°çº¿ç¨‹ã€‚
  isDaemon()æ–¹æ³•å¯ä»¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦ä¸ºåå°çº¿ç¨‹
  > å‰å°çº¿ç¨‹åˆ›å»ºçš„å­çº¿ç¨‹é»˜è®¤æ˜¯å‰å°çº¿ç¨‹ï¼Œåå°çº¿ç¨‹åˆ›å»ºçš„å­çº¿ç¨‹é»˜è®¤æ˜¯åå°çº¿ç¨‹
  >
###### çº¿ç¨‹ç¡çœ ï¼šsleep
sleep()æ–¹æ³•æœ‰ä¸¤ç§é‡è½½å½¢å¼
- static void sleep(long millis)ï¼šè®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹æš‚åœmillisæ¯«ç§’ï¼Œå¹¶è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œè¯¥æ–¹æ³•æ”¶åˆ°ç³»ç»Ÿè®¡æ—¶å™¨å’Œçº¿ç¨‹è°ƒåº¦å™¨çš„ç²¾åº¦ä¸å‡†ç¡®åº¦çš„å½±å“ã€‚
- static void sleep(long millis,int nanos)

# çœŸé¸¡å„¿ç´¯
# å¸ƒåˆ—æ–¯ç‰¹è¦å¡
# ä¼‘æ¯


#### 2121/4/30 æ˜ŸæœŸäº” æ™´
  æ­¤å¤–Threadè¿˜æä¾›äº†ä¸€ä¸ªä¸sleep()æ–¹æ³•æœ‰ç‚¹ç›¸ä¼¼çš„yield()é™æ€æ–¹æ³•ï¼Œå®ƒå¯ä»¥è®©æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹æš‚åœï¼Œä½†å®ƒä¸ä¼šé˜»å¡è¯¥çº¿ç¨‹ï¼Œåªæ˜¯å°†è¯¥çº¿ç¨‹è½¬å…¥å°±ç»ªçŠ¶æ€ã€‚
  å½“æŸä¸ªçº¿ç¨‹è°ƒç”¨äº†yield()æ–¹æ³•æš‚åœä¹‹åï¼Œåªæœ‰ä¼˜å…ˆçº§ä¸å½“å‰çº¿ç¨‹ç›¸åŒï¼Œæˆ–è€…ä¼˜å…ˆçº§æ¯”å•é’±çº¿ç¨‹æ›´é«˜çš„å¤„äºå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹æ‰ä¼šè·å¾—æ‰§è¡Œçš„æœºä¼šã€‚
  - sleep()æ–¹æ³•æš‚åœå½“å‰çº¿ç¨‹åï¼Œä¼šç»™å…¶ä»–çº¿ç¨‹æ‰§è¡Œæœºä¼šï¼Œä¸ä¼šç†ä¼šå…¶ä»–çº¿ç¨‹ä¼˜å…ˆçº§ï¼›ä½†yield()æ–¹æ³•åªä¼šç»™ä¼˜å…ˆçº§ç›¸åŒï¼Œæˆ–ä¼˜å…ˆçº§æ›´é«˜çš„çº¿ç¨‹æ‰§è¡Œæœºä¼šã€‚
  - sleep()æ–¹æ³•å°†ä¼šçº¿ç¨‹è½¬å…¥é˜»å¡çŠ¶æ€ï¼ŒçŸ¥é“ç»è¿‡é˜»å¡æ—¶é—´æ‰ä¼šè½¬å…¥å°±ç»ªçŠ¶æ€ï¼›è€Œyield()ä¸ä¼šå°†çº¿ç¨‹è½¬å…¥é˜»å¡çŠ¶æ€ï¼Œå®ƒåªæ˜¯å¼ºåˆ¶å½“å‰çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ã€‚
  - sleep()æ–¹æ³•å£°æ˜æŠ›å‡ºå¼‚å¸¸InterruptExceptionå¼‚å¸¸ï¼Œæ‰€ä»¥è°ƒç”¨sleep()æ–¹æ³•æ—¶è¦ä¹ˆæ•æ‰è¯¥å¼‚å¸¸ï¼Œè¦ä¹ˆæ˜¾å¼æŠ›å‡ºå¼‚å¸¸ï¼›è€Œyield()æ–¹æ³•æ²¡æœ‰å£°æ˜æŠ›å‡ºä»»ä½•å¼‚å¸¸ã€‚
  - sleep()æ–¹æ³•æ¯”yield()æ–¹æ³•æœ‰æ›´å¥½çš„å¯ç§»æ¤æ€§ï¼Œé€šå¸¸ä¸å»ºè®®æ–½ä¸€å…¬yield()æ–¹æ³•æ¥æ§åˆ¶å¹¶å‘çº¿ç¨‹çš„æ‰§è¡Œã€‚

###### æ”¹å˜çº¿ç¨‹ä¼˜å…ˆçº§
  æ¯ä¸ªçº¿ç¨‹çš„é»˜è®¤ä¼˜å…ˆçº§éƒ½ä¸åˆ›å»ºå®ƒçš„çˆ¶çº¿ç¨‹çš„ä¼˜å…ˆçº§ç›¸åŒï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œmainçº¿ç¨‹å…·æœ‰æ™®é€šä¼˜å…ˆçº§ï¼Œç”±mainçº¿ç¨‹åˆ›å»ºçš„å­çº¿ç¨‹ä¹Ÿå…·æœ‰æ™®é€šä¼˜å…ˆçº§ã€‚
  Threadç±»æä¾›äº†setPriorityï¼ˆint newPriorityï¼‰ã€getPriority()æ–¹æ³•æ¥è®¾ç½®å’Œè¿”å›æŒ‡å®šçº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚
  - MAX_PRIORITY: 10
  - MIN_PRIORITY: 1
  - NORM_PRIORITY: 5

```java
package thread;

public class PriorityTest extends Thread{
    public PriorityTest(String name){
        super(name);
    }
    public void run(){
        for(int i = 0; i < 50; i++){
            System.out.println(getName()+"ï¼Œå…¶ä¼˜å…ˆçº§æ˜¯"
            + getPriority()+",å¾ªç¯å˜é‡çš„å€¼ä¸ºï¼š"+ i);
        }
    }
    public static void main(String[] args){
        Thread.currentThread().setPriority(6);
        for(int i = 0; i < 30; i++){
            if(i == 10){
                PriorityTest low = new PriorityTest("ä½ä¼˜å…ˆçº§å°çº¿ç¨‹");
                low.setPriority(Thread.MIN_PRIORITY);
                low.start();
                System.out.println("åˆ›å»ºä¹‹åˆçš„ä¼˜å…ˆçº§ï¼š"+low.getPriority());

            }
            if (i == 20){
                PriorityTest high = new PriorityTest("é«˜ä¼˜å…ˆçº§çº¿ç¨‹");
                high.setPriority(Thread.MAX_PRIORITY);

                high.start();
            }
        }
    }
}
```

##### çº¿ç¨‹åŒæ­¥
# hashCode()å’Œequals()æ–¹æ³•é‡å†™
>  ä»»ä½•æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è·å¾—å¯¹ åŒæ­¥ç›‘è§†å™¨çš„é”å®šï¼Œå½“åŒæ­¥ä»£ç å—å®Œæˆåï¼Œè¯¥çº¿ç¨‹ä¼šé‡Šæ”¾å¯¹è¯¥åŒæ­¥ç›‘è§†å™¨çš„é”å®šã€‚
>  

###### åŒæ­¥ä»£ç å—

###### åŒæ­¥æ–¹æ³• 
çº¿ç¨‹å®‰å…¨çš„ç±»å…·æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š
- è¯¥ç±»çš„å¯¹è±¡å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹å®‰å…¨åœ°è®¿é—®
- æ¯ä¸ªçº¿ç¨‹è°ƒç”¨è¯¥å¯¹è±¡çš„äººæ¶åŒ–æ–¹æ³•ä¹‹åéƒ½å°†å¾—åˆ°æ­£ç¡®ç»“æœã€‚
- æ¯ä¸ªçº¿ç¨‹è°ƒç”¨è¯¥å¯¹è±¡çš„ ä»»æ„æ–¹æ³•ä¹‹åï¼Œè¯¥å¯¹è±¡çŠ¶æ€ä¾ç„¶ä¿æŒåˆç†çŠ¶æ€ã€‚

> synchronizedå…³é”®å­—å¯ä»¥ä¿®é¥°ä»£ç å—ï¼Œä½†ä¸èƒ½ä¿®é¥°æ„é€ å™¨ã€æˆå‘˜å˜é‡ç­‰ã€‚
> 

  åŒæ­¥æ–¹æ³•çš„åŒæ­¥ç›‘è§†å™¨æ˜¯thisï¼Œè€Œthisæ€»ä»£è¡¨è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ã€‚
  å¯å˜ç±»çš„çº¿ç¨‹å®‰å…¨æ˜¯ä»¥é™ä½ç¨‹åºçš„è¿è¡Œæ•ˆç‡ä½œä¸ºä»£ä»·çš„ï¼Œä¸ºäº†å‡å°‘çº¿ç¨‹å®‰å…¨æ‰€å¸¦æ¥çš„è´Ÿé¢å½±å“ï¼Œç¨‹åºå¯é‡‡ç”¨å¦‚ä¸‹ç­–ç•¥ã€‚
  - ä¸è¦å¯¹çº¿ç¨‹å®‰å…¨ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½è¿›è¡ŒåŒæ­¥ï¼Œåªå¯¹é‚£äº›ä¼šæ”¹å˜ç«äº‰èµ„æºçš„æ–¹æ³•è¿›è¡ŒåŒæ­¥ã€‚
  - å¦‚æœå¯å˜ç±»æœ‰ä¸¤ç§è¿è¡Œç¯å¢ƒï¼šå•çº¿ç¨‹ç¯å¢ƒå’Œå¤šçº¿ç¨‹ç¯å¢ƒï¼Œåˆ™åº”è¯¥ä¸ºè¯¥å¯å˜ç±»æä¾›ä¸¤ç§ç‰ˆæœ¬ï¼Œå³çº¿ç¨‹ä¸å®‰å…¨ç‰ˆæœ¬å’Œçº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ã€‚åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨çº¿ç¨‹ä¸å®‰å…¨ç‰ˆæœ¬ä»¥ä¿è¯æ€§èƒ½ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ã€‚

> JDKæ‰€æä¾›çš„StringBuilderã€StringBufferå°±æ˜¯ä¸ºäº†ç…§é¡¾å•çº¿ç¨‹ç¯å¢ƒå’Œå¤šçº¿ç¨‹ç¯å¢ƒæ‰€æä¾›çš„ç±»ï¼Œå•çº¿ç¨‹ç¯å¢ƒä¸‹åº”è¯¥ä½¿ç”¨StringBuilderæ¥ä¿è¯è¾ƒå¥½çš„æ€§èƒ½ï¼›å½“éœ€è¦ä¿è¯å¤šçº¿ç¨‹å®‰å…¨æ—¶ï¼Œå°±åº”è¯¥ä½¿ç”¨StringBufferã€‚
> 

###### é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨çš„é”å®š
  - å½“å‰çº¿ç¨‹çš„åŒæ­¥æ–¹æ³•ï¼ŒåŒæ­¥ä»£ç å—æ‰§è¡Œç»“æŸï¼Œå½“å‰çº¿ç¨‹å³é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨ã€‚
  - å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­é‡åˆ°breakã€returnç»ˆæ­¢äº†è¯¥ä»£ç å—ã€è¯¥æ–¹æ³•ç»§ç»­æ‰§è¡Œï¼Œå½“å‰çº¿ç¨‹å°†ä¼šé‡Šæ”¾åŒæ­¥ç›‘è§†å™¨
  - å½“å‰çº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•ä¸­å‡ºç°äº†æœªå¤„ç†çš„Erroræˆ–Exceptionï¼Œå¯¼è‡´è¯¥ä»£ç å—ã€è¯¥æ–¹æ³•å¼‚å¸¸ç»“æŸæ—¶ï¼Œå½“å‰çº¿ç¨‹å°†ä¼šé‡Šæ”¾åŒæ­¥ç›‘è§†å™¨ã€‚
  - å½“å‰çº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•æ—¶ï¼Œç¨‹åºæ‰§è¡Œäº†åŒæ­¥ç›‘è§†å™¨å¯¹è±¡çš„wait()æ–¹æ³•ï¼Œåˆ™å½“å‰çº¿ç¨‹æš‚åœï¼Œå¹¶é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨å™¨ã€‚
    åœ¨å¦‚ä¸‹æƒ…å†µï¼Œä¸ä¼šé‡Šæ”¾åŒæ­¥ç›‘è§†å™¨
  - çº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•æ—¶ï¼Œç¨‹åºè°ƒç”¨äº†Thread.sleep()ã€Thread.yield()æ–¹æ³•æ¥æš‚åœå½“å‰çº¿ç¨‹çš„æ‰§è¡Œï¼Œå½“å‰çº¿ç¨‹ä¸ä¼šé‡Šæ”¾åŒæ­¥ç›‘è§†å™¨ã€‚
  - çº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç å—æ—¶ï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨äº†è¯¥çº¿ç¨‹çš„suspend()æ–¹æ³•å°†è¯¥çº¿ç¨‹æŒ‚èµ·ï¼Œè¯¥çº¿ç¨‹ä¸ä¼šé‡Šæ”¾åŒæ­¥ç›‘è§†å™¨ã€‚

###### åŒæ­¥é”ï¼ˆLockï¼‰
###### æ­»é”
  å½“ä¸¤ä¸ªçº¿ç¨‹ç›¸äº’ç­‰å¾…å¯¹è±¡é‡Šæ”¾åŒæ­¥ç›‘è§†å™¨æ—¶å°±ä¼šå‘ç”Ÿæ­»é”ï¼ŒJavaè™šæ‹Ÿæœºæ²¡æœ‰ç›‘æµ‹ï¼Œä¹Ÿæ²¡æœ‰é‡‡å–æªæ–½æ¥å¤„ç†æ­»é”æƒ…å†µã€‚

```java
class A{
    public synchronized void foo(B b){
        System.out.println("å½“å‰çº¿ç¨‹åï¼š"+Thread.currentThread().getName()
        + "è¿›å…¥äº†Aå®ä¾‹çš„foo()æ–¹æ³•");
        try{
            Thread.sleep(200);
        }catch(InterruptedException ex){
            ex.printStackTrace();
        }
        System.out.println("å½“å‰çº¿ç¨‹å"+ Thread.currentThread().getName()
        + "ä¼å›¾è°ƒç”¨Bå®ä¾‹çš„last()æ–¹æ³•");
        b.last();
    }
    public synchronized void last(){
        System.out.println("è¿›å…¥äº†Aç±»çš„last()æ–¹æ³•å†…éƒ¨");
    }
}
class B{
    public synchronized void bar(A a){
        System.out.println("å½“å‰çº¿ç¨‹åï¼š"+Thread.currentThread().getName()
                + "è¿›å…¥äº†Bå®ä¾‹çš„bar()æ–¹æ³•");
        try{
            Thread.sleep(200);
        }catch(InterruptedException ex){
            ex.printStackTrace();
        }
        System.out.println("å½“å‰çº¿ç¨‹å"+ Thread.currentThread().getName()
                + "ä¼å›¾è°ƒç”¨Aå®ä¾‹çš„last()æ–¹æ³•");
        a.last();
    }
    public synchronized void last(){
        System.out.println("è¿›å…¥äº†Bç±»çš„last()æ–¹æ³•å†…éƒ¨");
    }
}
public class DeadLock implements Runnable{
    A a = new A();
    B b = new B();
    public void init(){
        //Thread.currentThread().setName("ä¸»çº¿ç¨‹");
        a.foo(b);
        System.out.println("è¿›å…¥äº†mainå");
    }

    @Override
    public void run() {
        //Thread.currentThread().setName("å‰¯çº¿ç¨‹");
        b.bar(a);
        System.out.println("è¿›å…¥äº†Thread-0å");
    }
    public static void main(String[] args){
        DeadLock dl = new DeadLock();
        new Thread(dl).start();
        dl.init();
    }
}
```
##### çº¿ç¨‹é€šè®¯

###### ä¼ ç»Ÿçš„çº¿ç¨‹é€šè®¯
  wait()ã€notify()å’ŒnotifyAll()ä¸‰ä¸ªæ–¹æ³•å±äºThreadç±»

# é›†åˆã€çº¿ç¨‹

###### ä½¿ç”¨Conditionæ§åˆ¶çº¿ç¨‹é€šè®¯
###### ä½¿ç”¨é˜»å¡é˜Ÿåˆ—(BlockingQueue)æ§åˆ¶çº¿ç¨‹é€šè®¯
**ä»£ç æœ‰å¾…æ€è€ƒ**è¾“å‡ºç»“æœä¸é¢„æœŸç»“æœä¸ä¸€è‡´ï¼Œä¼°è®¡æ˜¯å¤šçº¿ç¨‹é”™è¯¯å¯ä»¥ä½¿ç”¨åŒæ­¥æ–¹æ³•è§£å†³ï¼Œå¤§æ¦‚
```java
import com.sun.deploy.util.BlackList;

import java.util.concurrent.ArrayBlockingQueue;
import java.util.concurrent.BlockingQueue;

class Producer extends Thread{
    private BlockingQueue<String> bq;
    public Producer(BlockingQueue<String> bq){
        this.bq = bq;
    }
    public void run(){
        String[] strArr = new String[]{
                "Java",
                "Struts",
                "Spring"
        };
        for (int i = 0; i < 3; i++){
            System.out.println(getName() + "ç”Ÿäº§è€…å‡†å¤‡ç”Ÿäº§é›†åˆå…ƒç´ ï¼");
            try{
                Thread.sleep(3000);
                bq.put(strArr[i % 3]);
            }catch (Exception ex)
            {
                ex.printStackTrace();
            }
            System.out.println(getName()+"ç”Ÿæˆå®Œæˆ: " + bq);
        }
    }
}
class Consumer extends Thread{
    private BlockingQueue<String> bq;
    public Consumer(BlockingQueue<String> bq){
        this.bq = bq;
    }
    public void run(){
        while (true){
            System.out.println(getName()+"æ¶ˆè´¹è€…å‡†å¤‡æ¶ˆè´¹é›†åˆå…ƒç´ ï¼");
            try{
                Thread.sleep(3000);
                bq.remove();
            }catch (Exception ex){
                ex.printStackTrace();
            }
            System.out.println(getName()+ "æ¶ˆè´¹å®Œæˆ" + bq);
        }
    }
}
public class BlockingQueueTest {
    public static void main(String[] args){
        BlockingQueue<String> bq = new ArrayBlockingQueue<>(1);
        new Producer(bq).start();
        new Producer(bq).start();
        new Consumer(bq).start();
    }
}

```

  ä½¿ç”¨put()æ–¹æ³•å°è¯•æ”¾å…¥å…ƒç´ å°†ä¼šé˜»å¡çº¿ç¨‹ï¼›å¦‚æœä½¿ç”¨add()æ–¹æ³•å°è¯•æ”¾å…¥å…ƒç´ å°†ä¼šå¼•å‘å¼‚å¸¸ï¼›å¦‚æœä½¿ç”¨offer()æ–¹æ³•å°è¯•æ”¾å…¥å…ƒç´ å°†ä¼šè¿”å›falseï¼Œå…ƒç´ ä¸ä¼šè¢«æ”¾å…¥ã€‚
  äºæ­¤ç±»ä¼¼çš„æ˜¯ï¼Œåœ¨BlockingQueueå·²ç©ºçš„æƒ…å†µä¸‹ï¼Œç¨‹åºä½¿ç”¨take()æ–¹æ³•å°è¯•å–å‡ºå…ƒç´ å°†ä¼šé˜»å¡çº¿ç¨‹ï¼›

##### çº¿ç¨‹ç»„å’Œä¸ºå¤„ç†å¼‚å¸¸
ä¸€æ—¦æŸä¸ªçº¿ç¨‹åŠ å…¥äº†æŒ‡å®šçº¿ç¨‹ç»„ä¹‹åï¼Œè¯¥çº¿ç¨‹å°†ä¸€ç›´å±äºè¯¥çº¿ç¨‹ç»„ï¼ŒçŸ¥é“è¯¥çº¿ç¨‹æ­»äº¡ï¼Œçº¿ç¨‹è¿è¡Œä¸­é€”ä¸èƒ½æ”¹å˜å®ƒæ‰€ å±çš„çº¿ç¨‹ç»„ã€‚
##### çº¿ç¨‹æ± 
  çº¿ç¨‹æ± åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å³åˆ›å»ºå¤§é‡çš„ç©ºé—²çš„è¿›ç¨‹ï¼Œç¨‹åºå°†ä¸€ä¸ªRunnableå¯¹è±¡æˆ–Callableå¯¹è±¡ä¼ ç»™çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ± åœ¨çº¿ç¨‹æ± å°±ä¼šå¯åŠ¨ä¸€ä¸ªç©ºé—²çš„çº¿ç¨‹æ¥æ‰§è¡Œå®ƒä»¬çš„run()æˆ–call()æ–¹æ³•ï¼Œå½“run()æˆ–call()æ–¹æ³•æ‰§è¡Œç»“æŸä¹‹åï¼Œè¯¥çº¿ç¨‹å¹¶ä¸ä¼šæ­»äº¡ï¼Œè€Œæ˜¯å†æ¬¡è¿”å›çº¿ç¨‹æ± æˆä¸ºç©ºé—²çŠ¶æ€ç­‰å¾…ä¸‹ä¸€ä¸ªRunnableå¯¹è±¡çš„run()æˆ–call()æ–¹æ³•ã€‚
  é™¤æ­¤ä¹‹å¤–ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥æœ‰æ•ˆåœ°æ§åˆ¶ç³»ç»Ÿä¸­å¹¶å‘çº¿ç¨‹çš„æ•°é‡ï¼Œå½“ç³»ç»Ÿä¸­åŒ…å«å¤§é‡å¹¶å‘çº¿ç¨‹æ—¶ï¼Œä¼šå¯¼è‡´ç³»ç»Ÿæ€§èƒ½å‰§çƒˆä¸‹é™ï¼Œç”šè‡³å¯¼è‡´JVMå´©æºƒï¼Œè€Œçº¿ç¨‹æ± çš„æœ€å¤§çº¿ç¨‹æ•°å‚æ•°å¯ä»¥æ§åˆ¶ç³»ç»Ÿä¸­å¹¶å‘çº¿ç¨‹æ•°ä¸è¶…è¿‡æ­¤æ•°ã€‚
###### Java 8 æ”¹è¿›çš„çº¿ç¨‹æ± 
# go
#### 2021/5/2 æ˜ŸæœŸå¤© æ™´
  åœ¨Java 5 ä»¥å‰ï¼Œå¼€å‘è€…å¿…é¡»æ‰‹åŠ¨å®ç°è‡ªå·±çš„çº¿ç¨‹æ± ï¼›ä»Java 5 å¼€å§‹ï¼ŒJavaå†…å»ºæ”¯æŒçº¿ç¨‹æ± ã€‚Java 5æ–°å¢äº†ä¸€ä¸ªExceuteorså·¥å‚ç±»æ¥ç”Ÿæˆçº¿ç¨‹æ± ï¼Œè¯¥å·¥å‚ç±»åŒ…æ‹¬ä»¥ä¸‹é™æ€å·¥å‚æ–¹æ³•æ¥åˆ›å»ºçº¿ç¨‹ã€‚
  Java 8åœ¨çº¿ç¨‹æ”¯æŒä¸Šå¢åŠ äº†åˆ©ç”¨å¤šCPUå¹¶è¡Œçš„èƒ½åŠ›ï¼Œè¿™æ ·å¯ä»¥æ›´å¥½çš„å‘æŒ¥åº•å±‚ç¡¬ä»¶çš„æ€§èƒ½ã€‚
  ä½¿ç”¨çº¿ç¨‹æ± æ¥æ‰§è¡Œçº¿ç¨‹ä»»åŠ¡çš„æ­¥éª¤å¦‚ä¸‹ã€‚
  1. è°ƒç”¨Executorsç±»çš„é™æ€å·¥å‚æ–¹æ³•åˆ›å»ºä¸€ä¸ªExecutorServiceå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä»£è¡¨ä¸€ä¸ªçº¿ç¨‹æ± ã€‚
  2. åˆ›å»ºRunnableå®ç°ç±»æˆ–Callableå®ç°ç±»çš„å®ä¾‹ï¼Œä½œä¸ºçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚
  3. è°ƒç”¨ExecutorServiceå¯¹è±¡çš„submit()æ–¹æ³•æ¥æäº¤Runnableå®ä¾‹æˆ–Callableå®ä¾‹.
  4. å½“ä¸æƒ³æäº¤ä»»ä½•ä»»åŠ¡æ—¶,è°ƒç”¨ExecutorServiceå¯¹è±¡çš„shutdown()æ–¹æ³•æ¥å…³é—­çº¿ç¨‹æ± .

```java
public class ThreadPoolTest {
    public static void main(String[] args) throws Exception{
        //åˆ›å»ºä¸€ä¸ªå…·æœ‰å›ºå®šçº¿ç¨‹æ•°(6)çš„çº¿ç¨‹æ± 
        ExecutorService pool = Executors.newFixedThreadPool(6);
        //ä½¿ç”¨Lambdaè¡¨è¾¾å¼åˆ›å»ºRunnableå¯¹è±¡
        Runnable target = ()->{
            for ( int i=0; i< 100; i++ ){
                System.out.println(Thread.currentThread().getName()+"çš„iå€¼ä¸º"+i);
            }
        };
        //å‘çº¿ç¨‹æ± ä¸­æäº¤ä¸¤ä¸ªçº¿ç¨‹
        pool.submit(target);
        pool.submit(target);
        //å…³é—­çº¿ç¨‹æ± 
        pool.shutdown();
    }
}
```
###### Java 8å¢å¼ºçš„ForkJoinPool
  Java 7æä¾›äº†ForkJoinPoolæ¥æ”¯æŒå°†ä¸€ä¸ªä»»åŠ¡æ‹†åˆ†æˆå¤šä¸ª"å°ä»»åŠ¡"å¹¶è¡Œè®¡ç®—,åœ¨æŠŠå¤šä¸ªå°ä»»åŠ¡çš„ç»“æœåˆå¹¶æˆæ€»çš„è®¡ç®—ç»“æœ.ForkJoinPoolæ—¶ExecutorServiceçš„å®ç°ç±».
  Java 8è¿›ä¸€æ­¥æ‰©å±•äº†ForkJoinPoolçš„åŠŸèƒ½,Java 8ä¸ºForkJoinPoolå¢åŠ äº†é€šç”¨æ± åŠŸèƒ½.

##### çº¿ç¨‹ç›¸å…³ç±»
###### ThreadLocalç±»
  ThreadLocal,æ˜¯Thread Local Variable(çº¿ç¨‹å±€éƒ¨å˜é‡)çš„æ„æ€,çº¿ç¨‹å±€éƒ¨å˜é‡çš„åŠŸèƒ½ååˆ†ç®€å•,å°±æ˜¯ä¸ºæ²¡æœ‰ç»™ä½¿ç”¨è¯¥å˜é‡çš„çº¿ç¨‹éƒ½æä¾›ä¸€ä¸ªå˜é‡å€¼çš„å‰¯æœ¬,ä½¿æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜è‡ªå·±çš„å‰¯æœ¬,è€Œä¸ä¼šå’Œå…¶ä»–çº¿ç¨‹çš„å‰¯æœ¬å†²çªã€‚
  - T get()ï¼šè¿”å›æ­¤çº¿ç¨‹å±€éƒ¨å˜é‡ä¸­å½“å‰çº¿ç¨‹å‰¯æœ¬ä¸­çš„å€¼ã€‚
  - void remove()ï¼šåˆ é™¤æ­¤çº¿ç¨‹å±€éƒ¨å˜é‡ä¸­å½“å‰çº¿ç¨‹çš„å€¼ã€‚
  - voidset(T value)ï¼šè®¾ç½®æ­¤çº¿ç¨‹å±€éƒ¨å˜é‡ä¸­å½“å‰çº¿ç¨‹å‰¯æœ¬ä¸­çš„å€¼ã€‚

```java
class tlAccount{
    /*
    * å®šä¹‰ä¸€ä¸ªThreadLocakç±»å‹çš„å˜é‡ï¼Œè¯¥å˜é‡å°†æ˜¯ä¸€ä¸ªçº¿ç¨‹å±€éƒ¨å˜é‡
    * æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šä¿ç•™è¯¥å˜é‡çš„ä¸€ä¸ªå‰¯æœ¬
    * */
    private ThreadLocal<String> name = new ThreadLocal<>();

    public ThreadLocal<String> getName() {
        return name;
    }

    public void setName(String name) {
        this.name.set(name);
    }

    //å®šä¹‰ä¸€ä¸ªåˆå§‹åŒ–nameæˆå‘˜å˜é‡çš„æ„é€ å™¨
    public tlAccount(String str){
        this.name.set(str);
        System.out.println("---"+this.name.get());
    }

}

class MyTest extends Thread{
    //
    private tlAccount account;
    public MyTest(tlAccount account, String name){
        super(name);
        this.account = account;
    }
    public void run(){
        for(int i =0; i<  10; i++){
            if(i==6){
                account.setName(getName());
            }
            System.out.println(account.getName()+"è´¦æˆ·içš„å€¼"+i);
        }
    }
}
public class ThreadLocalTest {
    public static void main(String[] args){
        tlAccount at = new tlAccount("åˆå§‹å");
        new MyTest(at ,"çº¿ç¨‹ç”²").start();
        new MyTest(at ,"çº¿ç¨‹ä¹™").start();
    }
}
```
  ThreadLocalå’Œå…¶ä»–æ‰€æœ‰çš„åŒæ­¥æœºåˆ¶ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸ºäº†è§£å†³å¤šçº¿ç¨‹å¯¹åŒä¸€å˜é‡çš„è®¿é—®å†²çªã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç³»ç»Ÿå¹¶æ²¡æœ‰å°†è¿™ä»½èµ„æºå¤åˆ¶å¤šåˆ†ï¼Œåªæ˜¯é‡‡ç”¨äº†å®‰å…¨æœºåˆ¶æ¥æ§åˆ¶å¯¹è¿™ä»½èµ„æºçš„è®¿é—®ã€‚
  ThreadLocalæä¾›äº†çº¿ç¨‹å®‰å…¨çš„å…±äº«å¯¹è±¡ï¼Œåœ¨ç¼–å†™å¤šçº¿ç¨‹ä»£ç æ—¶ï¼Œå¯ä»¥æŠŠä¸å®‰å…¨çš„æ•´ä¸ªå˜é‡å°è£…è¿›ThreadLocalï¼Œæˆ–è€…æŠŠè¯¥å¯¹è±¡ä¸çº¿ç¨‹ç›¸å…³çš„çŠ¶æ€ä½¿ç”¨ThreadLocalä¿å­˜ã€‚

###### ä¿è¯çº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆ
  ArrayListã€LinkedListã€HashSetã€TreeSetã€HashMapã€TreeMapç­‰éƒ½æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚
  å¦‚æœç¨‹åºä¸­æœ‰å¤šä¸ªçº¿ç¨‹å¯èƒ½è®¿é—®ä»¥ä¸Šå‡ ä¸ªé›†åˆï¼Œå°±å¯ä»¥ä½¿ç”¨Collectionsæä¾›çš„æ–¹æ³•æŠŠè¿™äº›é›†åˆåŒ…è£…æˆçº¿ç¨‹å®‰å…¨çš„é›†åˆã€‚Collectionæä¾›äº†å¦‚ä¸‹å‡ ä¸ªé™æ€æ–¹æ³•ã€‚

###### çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»
  Java 8æ‰©å±•äº†ConcurrentHashMapçš„åŠŸèƒ½ï¼ŒJava 8ä¸ºè¯¥ç±»æ–°å¢äº†30å¤šä¸ªæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å¯ä»¥å€ŸåŠ©äºStreamå’ŒLambdaè¡¨è¾¾å¼æ”¯æŒæ‰§è¡Œèšé›†æ“ä½œã€‚

###### Java 9æ–°å¢çš„å‘å¸ƒ-è®¢é˜…æ¡†æ¶
#### Javaé›†åˆ


# Lambdaè¡¨è¾¾å¼ï¼Ÿ

JavaScriptæ˜¯æœ€å…¸å‹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ã€‚
å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€æä¾›äº†ä¸€ç§å¼ºå¤§çš„åŠŸèƒ½--ç¢§æ³¢å•Šï¼Œç›¸æ¯”äºä¼ ç»Ÿçš„ç¼–ç¨‹æ–¹æ³•æœ‰è®¸å¤šä¼˜åŠ¿ï¼Œé—­åŒ…æ˜¯ä¸€ä¸ªå¯è°ƒç”¨çš„å¯¹è±¡ï¼Œå®ƒè®°å½•äº†ä¸€äº›ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯æ¥æºäºå®ƒçš„ä½œç”¨åŸŸã€‚Javaé™åˆ¶æä¾›çš„æœ€æ¥è¿‘é—­åŒ…çš„æ¦‚å¿µä¾¿æ˜¯Lambdaè¡¨è¾¾å¼ï¼Œè™½ç„¶é—­åŒ…ä¸Lambdaè¡¨è¾¾å¼ä¹‹é—´å­˜åœ¨æ˜¾è‘—åŒºåˆ«ï¼Œä½†è‡³å°‘Lambdaè¡¨è¾¾å¼æ˜¯é—­åŒ…å¾ˆå¥½çš„ä»£æ›¿è€…ã€‚
Lambdaè¡¨è¾¾å¼ç»“æ„
- ä¸€ä¸ªLambdaè¡¨è¾¾å¼å¯ä»¥æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°
- å‚æ•°çš„ç±»å‹æ—¢å¯ä»¥å£°æ˜ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡æ¥åˆ¤æ–­
- æ‰€æœ‰å‚æ•°éœ€åŒ…å«å†åœ†æ‹¬å·å†…ï¼Œå‚æ•°ä¹‹é—´ç”¨é€—å·ç›¸éš”
- ç©ºæ‹¬å·ä»£è¡¨å‚æ•°é›†ä¸ºç©º
- å½“åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œä¸”å…¶ç±»å‹å¯æ¨å¯¼æ—¶ï¼Œåœ†æ‹¬å·()å¯çœç•¥ã€‚
- Lambdaè¡¨è¾¾å¼çš„ä¸»é¢˜å¯åŒ…å«é›¶æ¡æˆ–å¤šæ¡è¯­å¥
- å¦‚æœLambdaè¡¨è¾¾å¼ä¸»é¢˜åªæœ‰ä¸€æ¡è¯­å¥ï¼ŒèŠ±æ‹¬å·å¯çœç•¥ã€‚åŒ¿åå‡½æ•°çš„è¿”å›ç±»å‹ä¸è¯¥ä¸»é¢˜è¡¨è¾¾å¼ä¸€è‡´
- åè¿‡Lambdaè¡¨è¾¾å¼çš„ä¸»é¢˜åŒ…å«ä¸€æ¡ä»¥ä¸Šè¯­å¥ï¼Œåˆ™è¡¨è¾¾å¼å¿…é¡»åŒ…å«åœ¨èŠ±æ‹¬å·ä¸­ã€‚åŒ¿åå‡½æ•°çš„è¿”å›ç±»å‹ä¸ä»£ç å—çš„è¿”å›ç±»å‹ä¸€è‡´ï¼Œè‹¥æ²¡æœ‰åˆ™ä¸ºç©º



#### 2021/5/5 æ˜ŸæœŸä¸‰ æ™´
å†™ä½œä¸š

æ ¡å›­äºŒæ‰‹äº¤æ˜“å¹³å°ï¼Œå†™å®Œã€‚goodã€‚



![é¢ˆæ¤ç—…åº·å¤æŒ‡å—](D:\github\X-xiaobaoyihao.github.io\img\é¢ˆæ¤ç—…åº·å¤æŒ‡å—.png)



# next

# äº”æœˆç›®æ ‡
#### 1. å°½é‡å‘65kgé æ‹¢
#### 2. çœ‹å®Œã€Šç–¯ç‹‚javaè®²ä¹‰ã€‹ã€ã€Šé«˜æ€§èƒ½MySQLã€‹ã€ã€Šspringå®æˆ˜ã€‹ã€ã€Šredisè®¾è®¡äºå®ç°ã€‹
#### 3. å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Š
#### 8.00èµ·åºŠ--12.00ç¡è§‰
#### 100ä¸ªä¸Šä¸‹è¹²ï¼Œ100ä¸ªä¿¯å§æ’‘
#### å¥¥é‡Œç»™

